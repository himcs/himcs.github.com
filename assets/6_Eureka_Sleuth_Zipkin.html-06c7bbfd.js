import{_ as a,p as n,q as s,a1 as e}from"./framework-fa6fd9c7.js";const t={},p=e(`<h1 id="分布式链路跟踪sleuth与zipkin实现" tabindex="-1"><a class="header-anchor" href="#分布式链路跟踪sleuth与zipkin实现" aria-hidden="true">#</a> 分布式链路跟踪Sleuth与Zipkin实现</h1><h2 id="开启zipkin-web" tabindex="-1"><a class="header-anchor" href="#开启zipkin-web" aria-hidden="true">#</a> 开启zipkin web</h2><p>https://zipkin.io/quickstart.sh 启动脚本</p><p>得到 zipkin.jar</p><p>使用 <code>java -jar zipkin.jar</code> 启动</p><h2 id="微服务项目添加依赖" tabindex="-1"><a class="header-anchor" href="#微服务项目添加依赖" aria-hidden="true">#</a> 微服务项目添加依赖</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-sleuth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-zipkin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="微服务配置-zipkin-地址" tabindex="-1"><a class="header-anchor" href="#微服务配置-zipkin-地址" aria-hidden="true">#</a> 微服务配置 zipkin 地址</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>spring:
  application:
    name: eurekaServiceClient
  zipkin:
    base-url: http://127.0.0.1:9411/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="在-zipkin-web-查看请求" tabindex="-1"><a class="header-anchor" href="#在-zipkin-web-查看请求" aria-hidden="true">#</a> 在 zipkin web 查看请求</h2><p>http://127.0.0.1:9411/</p><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念" aria-hidden="true">#</a> 基本概念</h2><p>控制台输出的微服务sleuth日志</p><p>[eurekaServiceClient,e354407e82da93ec,250a38ea7ee46217,true]</p><p>分别代表以下内容</p><ul><li><p>eurekaServiceClient 当前应用名称</p></li><li><p>Trace ID 一条请求链路中包含一个Trace ID，多个Span ID。</p></li><li><p>Span ID</p></li><li><p>是否要将该信息输出到Zipkin等服务中来收集和展示。</p></li></ul>`,16),i=[p];function l(c,o){return n(),s("div",null,i)}const d=a(t,[["render",l],["__file","6_Eureka_Sleuth_Zipkin.html.vue"]]);export{d as default};
